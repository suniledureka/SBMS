Deploying a Spring Boot Application on AWS Using AWS Elastic Beanstalk

https://768121720918.signin.aws.amazon.com/console
        Sunil.Ozhakal
        11Sunil_22


Elastic Beanstalk helps to quickly deploy applications with a very simple interface, We can deploy applications to tomcat, can run Java applications, Python applications etc

-- no need to create EC2 instance and no need to upload jar/war file to S3 bucket

-- when we create Elastic Beanstalk environment – it will internally create an EC2 instance and inside that instance it will register Tomcat Server and inside Tomcat Server we can deploy our web application.

Web Application war file will be stored in S3 bucket and from S3 Bucket - EC2 instance will load the war file from S3 bucket and will be deployed in Tomcat Server

-- similarly an AWS Elastic Load Balancer – which will help us to redirect the request to the particular web application

1) Create New Spring Boot Starter Project 
Packaging : War		
Package: com.cognizant.spring.aws.api
Application Name: SB-REST-PRODUCTS-API
Description: My Spring Boot ReST Application on Elastic Beanstalk
Dependency : Spring Web	> Finish    & create REST Endpoint	> mvn clean compile install

2) Sign in to the AWS Management Console

3) Open the Elastic Beanstalk console from Services | Select  Region
All Services > Compute > Elastic Beanstalk  > Applications > Create a new Application

Application Name :  xxxx – this name will be appended as part of your URL
No Tags

Platform : Tomcat 
Platform Branch : Tomcat 8.5 with Corretto 11 running on 64 bit …
Platform Version:  4.0.1

Upload your Code:  Choose File (war file)
> Create Application

Check Health : 			Run the URL in Browser

Configuration
Software : Edit
Environment Properties :  SERVER_PORT : 5000		> Apply

To configure the Spring Boot application to use the newly created MySQL database, specify the following environment variables:
SPRING_DATASOURCE_URL=jdbc:mysql://<url>/ebdb
SPRING_DATASOURCE_USERNAME=<username>
SPRING_DATASOURCE_PASSWORD=<password>
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.MySQL5Dialect

Make some changes to our spring application (change the response message)  mvn clean compile package

Upload & Redeploy  > choose file version (version number-1)  > Deploy   [This application is deployed as a new application in the same environment]

In order to revert the new version to the previous version::
  Application Versions (in the left panel):
      Check the Version  : Actions > Deploy > Select the Environment > Deploy

Environments (in left panel) > Click on Application >  
Logs (In Left Panel)
